---
import Layout from '#layouts/Layout.astro';
import { Image } from 'astro:assets';

import Headline from '#components/Headline.astro';
import { type CollectionEntry } from 'astro:content';
import Prose from '#components/Prose.astro';
import Stack from '@repo/layout-webcomponents/Stack';

// import Tag from '#components/TagContainer/Tag.astro';
// interface Props extends CollectionEntry<'blog'> {}

import { format } from 'date-fns';

// interface Props {
//   post: CollectionEntry<'blog'>;
// }

type Props = CollectionEntry<'blog'>['data'];

const { title, description, date, cover } = Astro.props;
---

<Layout title={title} description={description} maxW="100%">
  <Stack space="var(--s3)">
    <Headline headline={title} />

    {date && <p>Pub.on: {format(date, 'yyyy-MM-dd')}</p>}

    {
      cover && (
        <Image
          src={cover}
          alt="xxx"
          width={10}
          height={10}
          class={'w-full rounded-xl'}
        />
      )
    }
    <slot name="authors" />
    <Prose>
      <slot />
    </Prose>
  </Stack>
</Layout>
